# Rubyのちょっと突っ込んだ概要


## 公式リファレンスマニュアルを読もう！

http://doc.ruby-lang.org/ja/2.0.0/doc/index.html

最初は取っ付きにくいかもしれませんが、これを読むと理解がぐっと深くなります。

[Ruby 2.0.0 リファレンスマニュアル > はじめに](http://doc.ruby-lang.org/ja/2.0.0/doc/spec=2fintro.html) 
には、Rubyの特徴が書いてあります。




#### インタプリタ

     Rubyはインタプリタ言語ですので プログラムを実行するためにコンパイルする必要はありません。

CとかJavaとかみたいにコンパイルしません。

ソースコードは基本的に上から1行ずつ実行されます。


#### 変数に型が無い (動的型付け)

     Rubyの変数はどのような型のデータも格納する事ができますので、 変数の型について心配する必要はありません。 半面、コンパイル時のチェックは弱くなります。

変数にどんな値でも代入することができます。


#### 変数宣言が不要

     Rubyでは変数を宣言無しで使う事ができます。 変数の種類(ローカル変数、グローバル変数、インスタンス変数など)は 変数名から知る事ができます。

変数に代入したら使えるようになります。


#### 単純な文法

     Rubyの文法はEiffelからわずかに影響を受けた単純なものです。

読み書きしやすいよ

#### ユーザによるメモリ管理が不要

     Rubyはメモリ管理を自動的に行います。 どこからもアクセスされなくなったオブジェクトは インタプリタに組み込みのガーベージコレクタによって回収されます。

CやC++みたいなメモリ管理は、ガベコレ(GC)がやってくれます。


#### 全てがオブジェクト

     Rubyははじめから純粋なオブジェクト指向言語として設計されています。 整数のような基本的なデータ型をはじめとして、 全てのデータをオブジェクトとして統一的に取り扱えます。

何もないことを意味するnilですらオブジェクトです。


#### クラス、継承、メソッド

     Rubyは クラス、継承、メソッドのようなオブジェクト指向言語として基本的な機能は 当然持っています。


#### 特異メソッド

     ある特定のオブジェクトにメソッドを付加することができます。 たとえば、GUIのあるボタンを押された時の動作を メソッドとして記述するような使い方ができますし、 これを応用してプロトタイプベースの オブジェクト指向プログラミングも可能です(やりたければね)。




#### モジュールによるMix-in

     Rubyは多重継承は複雑さの源であるという見地から、 意図的に多重継承を持っていませんが、 モジュールを使ってクラス階層を横断して実装を共有できます。 この機能を"Mix-in"と呼びます。

#### ブロック付きメソッド呼び出し(イテレータ)

     制御構造の抽象化を援助するブロック付きメソッド呼び出しという機能があります。

#### クロージャ

     手続きをオブジェクトとして扱う機能があります。 このオブジェクト化された手続きのことをクロージャと呼びます。

#### 強力な文字列操作/正規表現

     Perlをお手本とした強力な文字列操作や正規表現検索の機能があります。

#### 多倍長整数

     組み込みの多倍長整数機能がありますので、 メモリが許す限り、非常に大きな整数の演算もできます。 たとえば、400の階乗なども簡単に計算できます。

#### 例外処理機能

     例外処理機能は例外的な状況への対処が簡単に書けます。

#### OSへの直接アクセス

     Rubyは(UNIXの)ほとんどのシステムコールの呼び出し機能を持っています。 Rubyだけでシステムプログラミングも可能です。

#### ダイナミックローディング

     OSが許せば、オブジェクトファイルを実行時に読み込む機能が提供されます。






### 分からない時に読むポイント

「Ruby の文法」あたりが重要です。
特に 
[リテラル](http://doc.ruby-lang.org/ja/2.0.0/doc/spec=2fliteral.html)
と
[演算子式](http://doc.ruby-lang.org/ja/2.0.0/doc/spec=2foperator.html) 
を知っていると調べるのが楽かも。

それから$と記号でできているものについて [特殊変数](http://doc.ruby-lang.org/ja/2.0.0/class/Kernel.html)


### 機能やメソッドを調べるなら

[組み込みライブラリ](http://doc.ruby-lang.org/ja/2.0.0/library/_builtin.html) 
には何せずに使える組み込みライブラリで提供されるクラスやモジュールが載っています。

[ライブラリ一覧](http://doc.ruby-lang.org/ja/2.0.0/library/index.html) には
requireすることで使用可能になるライブラリが載っています。






## 大クラス主義

    「Rubyのシンプルさを支える大クラス主義」
    
    (中略)

    まつもと　1.8にもEnumeratorとGeneratorという2つの似たようなライブラリが
              あったんですけど、それが1.9ではEnumeratorに統一され、組み込み
              になりました。ここら辺、ああ、Rubyはやっぱり“大クラス主義”だな
              って思いますね。
    
    ――大クラス主義とは？
    
    笹田　似たような機能のものを大きなクラスにまとめるという方針です。たくさん
          あると覚えるのも大変だし、使い分けられないから、まとめちゃう。
    
    　    例えば「配列」といったとき、普通の言語ではpushで要素を加えたり、popで
          要素を取り出して配列の長さを縮めたりできませんよね。CやJavaの配列は固
          定長なので、できません。リスト構造を使うか、なければ自分で作ります。
          だけど、Rubyでは「似てるから1つにしちゃえ」という発想で配列がリスト構
          造のように振る舞い、伸び縮みします。

    まつもと　Rubyでは、スタックとか、キューとか、そういうデータ構造も含めて配列
              の「Array」というクラスに全部突っ込んじゃってるんですよね。
    
    笹田　だからデータ構造の授業をRubyでやると大変なんです。スタックはこういう風
          に作るんですよといって、ポインタが次の配列を指してって説明しますよね。
          でも、Rubyではそういうのは一切要らなくて、全部配列で済みます（笑）

[「新バージョンで何が変わるのか、Rubyはどこへ向かうのか まつもと×笹田、Ruby 1.9を語る」 2007/12/25](http://www.atmarkit.co.jp/news/200712/25/ruby.html)


つまり基本的なクラスの機能を覚えておけば使えます。
